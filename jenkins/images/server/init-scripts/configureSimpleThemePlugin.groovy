import jenkins.model.Jenkins
import jenkins.model.JenkinsLocationConfiguration

import org.jenkinsci.plugins.simpletheme.ThemeElement
import org.jenkinsci.plugins.simpletheme.CssUrlThemeElement
import org.jenkinsci.plugins.simpletheme.CssTextThemeElement

def jenkins = Jenkins.instance
def jenkinsUrl = JenkinsLocationConfiguration.get().url

def desc = jenkins.getDescriptor("org.codefirst.SimpleThemeDecorator")
desc.elements.clear()

// https://tobix.github.io/jenkins-neo2-theme/dist/neo-light.css
// at /var/jenkins_home/custom-css/neo-light.css
def cssBase = new CssTextThemeElement(new File(jenkins.rootDir, 'custom-css/neo-light.css').text)
def cssOverrides = new CssTextThemeElement("""\
#header {
    background: linear-gradient(45deg, #5292c6, #58bf96);
    border-bottom: #58bf96 3px solid;
}

img#jenkins-head-icon {
	content:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOQAAADhCAMAAADvROkMAAAAS1BMVEX///////////////////////////////////////////////////////////////////////////////////////////////9HcEyXa04aAAAAGXRSTlP//BDrA/QblAnHuSjT30Q2oWl2rVGIXH8ABppcRwAADBdJREFUeNrVndly7CgMQIXBG97X9v9/6SST5aY7RggQ2OFhqqYqce4xoF0yHLFX1qzTo1x023VS5gC5lF1X67F8TH2jjhQLIj67WOellmBa4v0/XV1OffY3IYt1q3Mgr26Zh+pPQRb72H1tlMMS9dZXfwJSDXMt3AG/Vq7n5uaQaiglBK/20dwXsucg/OSciztCFlMLrEvv1c0g+0UA+5Jbcx9ItbcQZwnd3wMymzqIuOpdXQ6ZbTlEXh0DZghkNUuIvgS0wZhwb8RPldJfBLl2kHDp5gLIRkPaJcosMWRVCki+5J4Usu/giiV0kQwyK+Gqlc8qDeQq4cJVFwkgqxLElZCQ79EhhxYuX2MWF3IScIPVDREhqxHusZyPLB2yCDuqQrZa6+VtaV13gdKrVHEge89/l2jHbeqbVz9fFcM6l1omkbJUyF348JX7YHnnRT8vHqSia/ghN3fPYaMHxpvJHVT2zJCuIidfdlelrYbN8c6LnRWycnI5xLJ7OAzvp3rYnIxiMTNCZrVTyDQoe9OPLvGUBxukA6NYwsNrTpGxjQmSrh7zkiXurdRKf60lC2RGZZQPxizjoFkpgees5htrIlXRMR/BkBWNMSgAY8JciWdoDoRUtNepY+QU3/46MeY5BUEqig0g5HrEWhnJCBFrCOSDdPOjVjWQYmb54A+5UxzY/oi7KkrYTBa+kD3B7xhjF6cQfbw284Ms7M8OCPc63cyFIPuUDyRBebTNkWjZY0vi4QNpl2tjdSRbhCPbu0NO1lc3HSlXUYcIn1NI1dgcnrw/0q7KejFr5QZZ2Swq99BnuP1T+vtdp5C257XFccGabTdocIHsb8lojxh2GR0ys4iyOjuOe1KOdMjxrozHsQovPQKuh7W9kNG6l11Fg6xwu78rjkvX7hMNAbdY+dWMNv/vXMK+Qjboecib4/KF67dWESB1mA+ewirAYzK7HbIPjKYkcb1Qe0xWNkjV+qih1Au1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);
}

#header #search-box {
    background: white;
}

#breadcrumbBar, #footer-container, .top-sticker-inner {
    background-color: #f3f9fe;
}
""")

List<ThemeElement> settings = new ArrayList<>();
settings.add(cssBase)
settings.add(cssOverrides)

desc.elements = settings
desc.save()
